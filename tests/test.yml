---

 - hosts: localhost
   remote_user: root
   vars:
     - configure_tempest: False
     - vault_test_adminpw: "changeme"
     - vault_prod_adminpw: "{{ vault_test_adminpw }}"
     - vault_test_userpw: "{{ vault_test_adminpw }}"
     - vault_prod_userpw: "{{ vault_test_adminpw }}"
     - rally_tempest_floating_ips: False
     - rally_tempest_extra_settings:
       - "mysetting = False"
       - "[section1]"
       - "setting2 = True"
     - rally_install_version: 'stable/0.12'
     - clouds:
        testcloud:
          region: region1
          endpoint: testcloud.fi:5000/v2.0/
          adminuser: admin
          adminpassword: "{{ vault_test_adminpw }}"
          admin_project_name: adminproject
          admin_domain_name: Default
          admin_project_domain_name: Default
          username: user
          userpassword: "{{ vault_test_userpw }}"
          user_project_name: userproject
          user_domain_name: Default
          user_project_domain_name: Default
          network_name: netowork_name_for_tempest
          tempest_extra_settings: "{{ rally_tempest_extra_settings }}"
          tempest_skip_tests: {}
        prodcloud:
          region: region1
          endpoint: prodcloud.fi:5000/v2.0/
          adminuser: admin
          adminpassword: "{{ vault_prod_adminpw }}"
          admin_project_name: adminproject
          admin_domain_name: Default
          admin_project_domain_name: Default
          username: user
          userpassword: "{{ vault_prod_userpw }}"
          user_project_name: userproject
          user_domain_name: Default
          user_project_domain_name: Default
          network_name: netowork_name_for_tempest
          tempest_extra_settings: []
          tempest_skip_tests: {}

   roles:
     - ansible-role-rally
     - ansible-role-rally-scenarios
